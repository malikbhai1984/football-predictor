

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Next 6 Days Football Schedule + LIVE</title>
<style>
body{font-family:Arial,sans-serif;margin:20px;}
h1{margin-bottom:20px;}
h2{margin-top:30px;}
table{border-collapse:collapse;width:100%;margin-bottom:20px;}
th,td{border:1px solid #ccc;padding:8px;text-align:left;}
th{background:#f2f2f2;}
.live{background:#d4edda;}
</style>
</head>
<body>
<h1>Football Schedule (Next 6 Days)</h1>
<div id="schedule"></div>

<script>
async function loadSchedule(){
  const res=await fetch('/api/matches');
  const data=await res.json();
  const container=document.getElementById('schedule');
  container.innerHTML='';

  const predMap={};
  data.predictions.forEach(p=>{predMap[p.match_id]=p;});

  const dates=Object.keys(data.matches_by_date).sort();
  dates.forEach(date=>{
    const matches=data.matches_by_date[date];
    const h2=document.createElement('h2');
    h2.textContent=date;
    container.appendChild(h2);

    const table=document.createElement('table');
    const header=document.createElement('tr');
    header.innerHTML="<th>Home Team</th><th>Away Team</th><th>Status</th><th>Time</th><th>LIVE Prediction</th>";
    table.appendChild(header);

    matches.forEach(m=>{
      const pred=predMap[m.match_id];
      const row=document.createElement('tr');
      if(m.status!=='NS') row.classList.add('live');
      row.innerHTML=`
        <td>${m.home_team}</td>
        <td>${m.away_team}</td>
        <td>${m.status}</td>
        <td>${m.time}</td>
        <td>${pred?`Over 2.5: ${pred.over_25}% | BTTS: ${pred.btts}%`:'-'}</td>
      `;
      table.appendChild(row);
    });

    container.appendChild(table);
  });
}

loadSchedule();
setInterval(loadSchedule,90000);
</script>
</body>
</html>
