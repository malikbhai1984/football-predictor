

<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>âš½ LIVE Football Predictor Pro v2.0</title>
Â  <style>
Â  Â  * { margin: 0; padding: 0; box-sizing: border-box; }
Â  Â  body { 
Â  Â  Â  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
Â  Â  Â  background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
Â  Â  Â  color: white; 
Â  Â  Â  min-height: 100vh;
Â  Â  Â  padding: 20px;
Â  Â  }
Â  Â  .container { max-width: 1400px; margin: 0 auto; }
Â  Â  
Â  Â  .header { 
Â  Â  Â  text-align: center; 
Â  Â  Â  margin-bottom: 30px; 
Â  Â  Â  padding: 25px;
Â  Â  Â  background: rgba(255,255,255,0.1);
Â  Â  Â  border-radius: 20px;
Â  Â  Â  backdrop-filter: blur(10px);
Â  Â  }
Â  Â  .header h1 { font-size: 2.8em; margin-bottom: 10px; }
Â  Â  
Â  Â  .tab-buttons {
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  Â  gap: 15px;
Â  Â  Â  margin: 25px 0;
Â  Â  Â  flex-wrap: wrap;
Â  Â  }
Â  Â  .tab-btn {
Â  Â  Â  padding: 15px 30px;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 30px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  font-size: 1.1em;
Â  Â  Â  cursor: pointer;
Â  Â  Â  transition: all 0.3s;
Â  Â  Â  min-width: 180px;
Â  Â  }
Â  Â  
Â  Â  /* Color coding for days 1, 2, and others */
Â  Â  .tab-btn.day-1 { background: #00d4aa; } /* Today */
Â  Â  .tab-btn.day-1.active { background: #00b894; transform: translateY(-3px); }
Â  Â  .tab-btn.day-2 { background: #ffa502; } /* Tomorrow */
Â  Â  .tab-btn.day-2.active { background: #ff6348; transform: translateY(-3px); }
Â  Â  .tab-btn.day-3, .tab-btn.day-4, .tab-btn.day-5, .tab-btn.day-6 { background: #1890ff; color: white; }
Â  Â  .tab-btn.day-3.active, .tab-btn.day-4.active, .tab-btn.day-5.active, .tab-btn.day-6.active { background: #096dd9; transform: translateY(-3px); }
Â  Â  
Â  Â  .tab-btn.live { background: #ff4757; }
Â  Â  .tab-btn.live.active { background: #ff3742; transform: translateY(-3px); }
Â  Â  
Â  Â  .stats-grid { 
Â  Â  Â  display: grid; 
Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); 
Â  Â  Â  gap: 15px; 
Â  Â  Â  margin: 25px 0;
Â  Â  }
Â  Â  .stat-card { 
Â  Â  Â  background: rgba(255,255,255,0.15); 
Â  Â  Â  padding: 15px; 
Â  Â  Â  border-radius: 12px; 
Â  Â  Â  text-align: center;
Â  Â  Â  font-weight: bold;
Â  Â  }
Â  Â  
Â  Â  .matches-grid { 
Â  Â  Â  display: grid; 
Â  Â  Â  grid-template-columns: repeat(auto-fill, minmax(420px, 1fr)); 
Â  Â  Â  gap: 20px; 
Â  Â  }
Â  Â  
Â  Â  .match-card { 
Â  Â  Â  background: rgba(255,255,255,0.1); 
Â  Â  Â  border-radius: 15px; 
Â  Â  Â  padding: 25px; 
Â  Â  Â  backdrop-filter: blur(10px);
Â  Â  Â  border: 1px solid rgba(255,255,255,0.2);
Â  Â  Â  transition: transform 0.3s;
Â  Â  }
Â  Â  .match-card:hover { transform: translateY(-5px); }
Â  Â  
Â  Â  .match-header { 
Â  Â  Â  display: flex; 
Â  Â  Â  justify-content: space-between; 
Â  Â  Â  align-items: center; 
Â  Â  Â  margin-bottom: 18px;
Â  Â  }
Â  Â  .league { font-weight: bold; font-size: 1.1em; }
Â  Â  .status { 
Â  Â  Â  padding: 8px 15px; 
Â  Â  Â  border-radius: 20px; 
Â  Â  Â  font-size: 0.9em; 
Â  Â  Â  font-weight: bold;
Â  Â  }
Â  Â  .status.live-pred, .status.LIVE { background: #ff4757; color: white; }
Â  Â  .status.1H, .status.2H, .status.HT, .status.ET { background: #ffa502; color: white; }
Â  Â  .status.scheduled, .status.SCHEDULED { background: rgba(0,212,170,0.6); }
Â  Â  
Â  Â  .score-time { 
Â  Â  Â  text-align: center; 
Â  Â  Â  font-size: 2.5em; 
Â  Â  Â  font-weight: bold; 
Â  Â  Â  margin: 20px 0;
Â  Â  Â  color: #00d4aa;
Â  Â  }
Â  Â  
Â  Â  .stats-row {
Â  Â  Â  display: flex;
Â  Â  Â  gap: 20px;
Â  Â  Â  justify-content: space-around;
Â  Â  Â  margin: 20px 0;
Â  Â  Â  font-weight: bold;
Â  Â  Â  flex-wrap: wrap;
Â  Â  }
Â  Â  
Â  Â  .markets { 
Â  Â  Â  display: grid; 
Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); 
Â  Â  Â  gap: 12px; 
Â  Â  Â  margin-top: 20px;
Â  Â  }
Â  Â  .market { 
Â  Â  Â  text-align: center; 
Â  Â  Â  padding: 12px 8px; 
Â  Â  Â  border-radius: 12px; 
Â  Â  Â  font-weight: bold;
Â  Â  Â  font-size: 0.9em;
Â  Â  }
Â  Â  .market.hot { background: rgba(255,71,87,0.6); border: 2px solid #ff4757; }
Â  Â  .market.warm { background: rgba(255,165,2,0.6); border: 2px solid #ffa502; }
Â  Â  .market.cold { background: rgba(0,212,170,0.4); }
Â  Â  
Â  Â  .confidence { 
Â  Â  Â  margin-top: 20px; 
Â  Â  Â  padding: 15px; 
Â  Â  Â  border-radius: 12px; 
Â  Â  Â  text-align: center; 
Â  Â  Â  font-size: 1.2em; 
Â  Â  Â  font-weight: bold;
Â  Â  }
Â  Â  .confidence.high { background: linear-gradient(45deg, #00d4aa, #00b894); }
Â  Â  .confidence.medium { background: linear-gradient(45deg, #ffa502, #ff6348); }
Â  Â  .confidence.low { background: rgba(255,255,255,0.2); }
Â  Â  
Â  Â  .no-data { 
Â  Â  Â  text-align: center; 
Â  Â  Â  padding: 60px 20px; 
Â  Â  Â  font-size: 1.3em; 
Â  Â  Â  opacity: 0.8;
Â  Â  Â  grid-column: 1 / -1;
Â  Â  }
Â  Â  .loading { 
Â  Â  Â  text-align: center; 
Â  Â  Â  padding: 40px; 
Â  Â  Â  font-size: 1.2em; 
Â  Â  }
Â  Â  
Â  Â  .bet-signal {
Â  Â  Â  margin-top: 15px;
Â  Â  Â  padding: 12px;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  text-align: center;
Â  Â  Â  font-size: 1em;
Â  Â  }
Â  Â  .bet-signal.hot { background: rgba(255,71,87,0.3); border: 2px solid #ff4757; }
Â  Â  .bet-signal.safe { background: rgba(0,212,170,0.3); border: 2px solid #00d4aa; }
Â  Â  
Â  Â  @media (max-width: 768px) {
Â  Â  Â  .matches-grid { grid-template-columns: 1fr; }
Â  Â  Â  .tab-buttons { flex-direction: column; align-items: center; }
Â  Â  Â  .tab-btn { min-width: 250px; }
Â  Â  Â  .score-time { font-size: 2em; }
Â  Â  Â  .stats-row { flex-direction: column; gap: 10px; text-align: center; }
Â  Â  }
Â  </style>
</head>
<body>
Â  <div class="container">
Â  Â  <div class="header">
Â  Â  Â  <h1>âš½ LIVE Football Predictor Pro v2.0</h1>
Â  Â  Â  <p>Real-time Over/Under + BTTS | Auto-refresh every 90s</p>
Â  Â  Â  
Â  Â  Â  <div class="tab-buttons" id="tabButtons">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="tab-btn live" onclick="loadLivePredictions()">ğŸ”´ LIVE Predictions</button>
Â  Â  Â  Â  <button class="tab-btn live" onclick="loadRefresh()" style="background: #9c27b0;">ğŸ”„ Refresh Now</button>
Â  Â  Â  </div>
Â  Â  Â  
Â  Â  Â  <div class="stats-grid" id="statsGrid">
Â  Â  Â  Â  <div class="stat-card"><div id="totalMatches">0</div><div>Total</div></div>
Â  Â  Â  Â  <div class="stat-card"><div id="liveMatches">0</div><div>LIVE</div></div>
Â  Â  Â  Â  <div class="stat-card"><div id="predictions">0</div><div>Predictions</div></div>
Â  Â  Â  Â  <div class="stat-card"><div id="highConf">0</div><div>80%+</div></div>
Â  Â  Â  </div>
Â  Â  </div>
Â  Â  
Â  Â  <div id="matchesContainer" class="matches-grid">
Â  Â  Â  <div class="no-data">Click tab to load matches... ğŸš€</div>
Â  Â  </div>
Â  </div>

Â  <script>
Â  Â  let currentTab = 'day-1'; 
Â  Â  let allData = {};
Â  Â  const DAYS_TO_SHOW = 6; // To show Today + Next 5 days
Â  Â  const dateLabels = [];

Â  Â  // ğŸ“… HELPER: Generate Dates and Render Buttons
Â  Â  function initializeTabs() {
Â  Â  Â  const today = new Date();
Â  Â  Â  const buttonContainer = document.getElementById('tabButtons');
Â  Â  Â  
Â  Â  Â  // Store static buttons (LIVE, REFRESH)
Â  Â  Â  const staticButtons = buttonContainer.innerHTML;
Â  Â  Â  buttonContainer.innerHTML = ''; // Clear existing buttons
Â  Â  Â  
Â  Â  Â  for (let i = 0; i < DAYS_TO_SHOW; i++) {
Â  Â  Â  Â  const date = new Date(today);
Â  Â  Â  Â  date.setDate(today.getDate() + i);
Â  Â  Â  Â  
Â  Â  Â  Â  // Get date string in YYYY-MM-DD format (to match the server's time property)
Â  Â  Â  Â  const dateString = date.toISOString().split('T')[0]; 
Â  Â  Â  Â  const displayLabel = i === 0 ? 'ğŸ“… Today' : i === 1 ? 'ğŸ“… Tomorrow' : `ğŸ“… ${date.getMonth() + 1}/${date.getDate()}`;
Â  Â  Â  Â  
Â  Â  Â  Â  dateLabels.push(dateString);
Â  Â  Â  Â  
Â  Â  Â  Â  const buttonClass = `day-${i + 1}`;
Â  Â  Â  Â  const isActive = i === 0 ? 'active' : '';
Â  Â  Â  Â  
Â  Â  Â  Â  // Insert the day button before static buttons
Â  Â  Â  Â  buttonContainer.insertAdjacentHTML('beforeend', `
Â  Â  Â  Â  Â  <button class="tab-btn ${buttonClass} ${isActive}" onclick="loadScheduledMatches(${i + 1})">${displayLabel}</button>
Â  Â  Â  Â  `);
Â  Â  Â  }
Â  Â  Â  
Â  Â  Â  // Re-insert static buttons
Â  Â  Â  buttonContainer.insertAdjacentHTML('beforeend', staticButtons);
Â  Â  }

Â  Â  // ğŸ¯ NEW FUNCTION: Load Scheduled Matches for a Specific Day
Â  Â  async function loadScheduledMatches(dayIndex) {
Â  Â  Â  const dayClass = `day-${dayIndex}`;
Â  Â  Â  setActiveTab(dayClass);
Â  Â  Â  showLoading();
Â  Â  Â  
Â  Â  Â  try {
Â  Â  Â  Â  // Fetch the full dataset (live + all scheduled)
Â  Â  Â  Â  const response = await fetch('/api/matches');
Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  allData = data;
Â  Â  Â  Â  
Â  Â  Â  Â  const targetDate = dateLabels[dayIndex - 1];
Â  Â  Â  Â  
Â  Â  Â  Â  const scheduledMatches = data.matches.filter(m => {
Â  Â  Â  Â  Â  // 1. Filter out LIVE/finished matches (only show upcoming NS status)
Â  Â  Â  Â  Â  const isScheduled = !['LIVE','1H','2H','HT','ET','FT', 'PST'].includes(m.status);
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  // 2. Check if the match date matches the selected tab date
Â  Â  Â  Â  Â  const matchDate = m.time.split(' ')[0]; // Extract YYYY-MM-DD from the time property
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  return isScheduled && matchDate === targetDate;
Â  Â  Â  Â  });
Â  Â  Â  Â  
Â  Â  Â  Â  renderMatches(scheduledMatches);
Â  Â  Â  Â  updateStats(data.stats);
Â  Â  Â  } catch(e) {
Â  Â  Â  Â  showError('Server not running? Run: <code>node server.js</code>');
Â  Â  Â  }
Â  Â  }

Â  Â  async function loadLivePredictions() {
Â  Â  Â  setActiveTab('live');
Â  Â  Â  showLoading();
Â  Â  Â  try {
Â  Â  Â  Â  const response = await fetch('/api/matches');
Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  allData = data;
Â  Â  Â  Â  renderPredictions(data.predictions || []);
Â  Â  Â  Â  updateStats(data.stats);
Â  Â  Â  } catch(e) {
Â  Â  Â  Â  showError('Server not running? Run: <code>node server.js</code>');
Â  Â  Â  }
Â  Â  }

Â  Â  async function loadRefresh() {
Â  Â  Â  showLoading('ğŸ”„ Manual refresh...');
Â  Â  Â  try {
Â  Â  Â  Â  await fetch('/api/refresh');
Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  // Reload current active tab
Â  Â  Â  Â  Â  if (currentTab === 'live') loadLivePredictions();
Â  Â  Â  Â  Â  else if (currentTab.startsWith('day-')) {
Â  Â  Â  Â  Â  Â  const dayIndex = parseInt(currentTab.split('-')[1]);
Â  Â  Â  Â  Â  Â  loadScheduledMatches(dayIndex);
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }, 1000);
Â  Â  Â  } catch(e) {
Â  Â  Â  Â  showError('Error refreshing data.');
Â  Â  Â  }
Â  Â  }

Â  Â  function setActiveTab(tab) {
Â  Â  Â  currentTab = tab;
Â  Â  Â  document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
Â  Â  Â  
Â  Â  Â  if (tab.startsWith('day-')) {
Â  Â  Â  Â  document.querySelector(`.${tab}`).classList.add('active');
Â  Â  Â  } else if (tab === 'live') {
Â  Â  Â  Â  // Find the live button based on its specific onclick
Â  Â  Â  Â  document.querySelector('.tab-btn[onclick="loadLivePredictions()"]').classList.add('active');
Â  Â  Â  }
Â  Â  }

Â  Â  function renderMatches(matches) {
Â  Â  Â  const container = document.getElementById('matchesContainer');
Â  Â  Â  if (!matches || matches.length === 0) {
Â  Â  Â  Â  container.innerHTML = '<div class="no-data">No matches scheduled on this day âš½</div>';
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â  
Â  Â  Â  container.innerHTML = matches.map(match => `
Â  Â  Â  Â  <div class="match-card">
Â  Â  Â  Â  Â  <div class="match-header">
Â  Â  Â  Â  Â  Â  <div class="league">${match.league || 'Unknown League'}</div>
Â  Â  Â  Â  Â  Â  <div class="status scheduled">${match.status || 'NS'} ${match.time.split(' ')[1] || '--:--'}</div>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  <div class="score-time">${match.home_team} vs ${match.away_team}</div>
Â  Â  Â  Â  Â  <div style="text-align: center; opacity: 0.8; margin: 20px 0; font-size: 1.1em;">
Â  Â  Â  Â  Â  Â  ğŸ¯ Predictions available when LIVE
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  `).join('');
Â  Â  }

Â  Â  function renderPredictions(predictions) {
Â  Â  Â  const container = document.getElementById('matchesContainer');
Â  Â  Â  if (!predictions || predictions.length === 0) {
Â  Â  Â  Â  container.innerHTML = '<div class="no-data">No LIVE predictions available<br>ğŸ”´ Wait for matches to start!</div>';
Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  container.innerHTML = predictions.map(pred => {
Â  Â  Â  Â  const isBetSignal = pred.minute >= 55 && pred.over_25 >= 70 && pred.confidence >= 78 && pred.intensity >= 60;
Â  Â  Â  Â  const scoreCheck = ['0-0', '1-0', '0-1', '1-1'].includes(pred.score);
Â  Â  Â  Â  
Â  Â  Â  Â  return `
Â  Â  Â  Â  <div class="match-card">
Â  Â  Â  Â  Â  <div class="match-header">
Â  Â  Â  Â  Â  Â  <div class="league">${pred.league || 'Unknown'}</div>
Â  Â  Â  Â  Â  Â  <div class="status live-pred">${pred.status || 'LIVE'} ${pred.minute || 0}'</div>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  <div class="score-time">${pred.score || '0-0'}</div>
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  <div class="stats-row">
Â  Â  Â  Â  Â  Â  <div>ğŸ”¥ Intensity: ${pred.intensity || 0}</div>
Â  Â  Â  Â  Â  Â  <div>âš¡ xG: ${pred.xg_proxy || 0.0}</div>
Â  Â  Â  Â  Â  Â  <div>ğŸ“Š LF: ${pred.league_factor || 0}</div>
Â  Â  Â  Â  Â  Â  ${pred.draw_pressure > 0 ? `<div>ğŸ¯ Draw: +${pred.draw_pressure}%</div>` : ''}
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  <div class="markets">
Â  Â  Â  Â  Â  Â  <div class="market ${getMarketClass(pred.over_05)}">O0.5<br>${Math.round(pred.over_05 || 0)}%</div>
Â  Â  Â  Â  Â  Â  <div class="market ${getMarketClass(pred.over_15)}">O1.5<br>${Math.round(pred.over_15 || 0)}%</div>
Â  Â  Â  Â  Â  Â  <div class="market ${getMarketClass(pred.over_25)}">O2.5<br>${Math.round(pred.over_25 || 0)}%</div>
Â  Â  Â  Â  Â  Â  <div class="market ${getMarketClass(pred.over_35)}">O3.5<br>${Math.round(pred.over_35 || 0)}%</div>
Â  Â  Â  Â  Â  Â  <div class="market ${getMarketClass(pred.btts)}">BTTS<br>${Math.round(pred.btts || 0)}%</div>
Â  Â  Â  Â  Â  Â  <div class="market ${getMarketClass(pred.next_goal)}">Next Goal<br>${Math.round(pred.next_goal || 0)}%</div>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  ${isBetSignal && scoreCheck ? 
Â  Â  Â  Â  Â  Â  `<div class="bet-signal hot">ğŸ¯ LIVE BET SIGNAL<br>âœ… O2.5 Entry Ready</div>` : 
Â  Â  Â  Â  Â  Â  `<div class="bet-signal safe">â³ Wait for signal<br>Min 55' + 70% O2.5</div>`
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  <div class="confidence ${getConfidenceClass(pred.confidence)}">
Â  Â  Â  Â  Â  Â  ğŸ¯ Confidence: ${Math.round(pred.confidence || 0)}%
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>`;
Â  Â  Â  }).join('');
Â  Â  }

Â  Â  function getMarketClass(percent) {
Â  Â  Â  const p = percent || 0;
Â  Â  Â  if (p >= 80) return 'hot';
Â  Â  Â  if (p >= 65) return 'warm';
Â  Â  Â  return 'cold';
Â  Â  }

Â  Â  function getConfidenceClass(conf) {
Â  Â  Â  const c = conf || 0;
Â  Â  Â  if (c >= 80) return 'high';
Â  Â  Â  if (c >= 70) return 'medium';
Â  Â  Â  return 'low';
Â  Â  }

Â  Â  function updateStats(stats) {
Â  Â  Â  document.getElementById('totalMatches').textContent = stats?.totalMatches || 0;
Â  Â  Â  document.getElementById('liveMatches').textContent = stats?.liveMatches || 0;
Â  Â  Â  document.getElementById('predictions').textContent = stats?.predictions || 0;
Â  Â  Â  document.getElementById('highConf').textContent = stats?.highConfidence || 0;
Â  Â  }

Â  Â  function showLoading(msg = 'Loading matches...') {
Â  Â  Â  document.getElementById('matchesContainer').innerHTML = 
Â  Â  Â  Â  `<div class="loading">ğŸ”„ ${msg}</div>`;
Â  Â  }

Â  Â  function showError(msg = 'Server Error') {
Â  Â  Â  document.getElementById('matchesContainer').innerHTML = 
Â  Â  Â  Â  `<div class="no-data" style="color: #ff6b6b;">âŒ ${msg}</div>`;
Â  Â  }

Â  Â  // AUTO-LOAD + REFRESH
Â  Â  initializeTabs();
Â  Â  loadScheduledMatches(1); // Load Today (Day 1) on startup
Â  Â  
Â  Â  setInterval(() => {
Â  Â  Â  if (currentTab === 'live') loadLivePredictions();
Â  Â  Â  else if (currentTab.startsWith('day-')) {
Â  Â  Â  Â  const dayIndex = parseInt(currentTab.split('-')[1]);
Â  Â  Â  Â  loadScheduledMatches(dayIndex);
Â  Â  Â  }
Â  Â  }, 90000); // Match server refresh
Â  </script>
</body>
</html>
